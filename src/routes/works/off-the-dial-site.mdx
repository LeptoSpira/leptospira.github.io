export const data = {
  layer: 0,
  coords: [8, 4],
  name: "off-the-dial-site",
  desc: "full-stack website that hosts tournament signups, player accounts, and a blog",
  tags: ["web", "site", "ux", "design"],
  previews: ["/off-the-dial-site_1.webp"],
  collage: {
    "/off-the-dial-site_14.webp": "Welcome to Off the Dial!",
    "/off-the-dial-site_11.webp":
      "Let's switch to dark mode for the screenshots from here",
    "/off-the-dial-site_7.webp":
      "The tournament page, shows all relevant season information",
    "/off-the-dial-site_12.webp":
      "Your profile page, a dashboard for your tournament signup",
    "/off-the-dial-site_10.webp":
      "Staff page, showcases everyone involved in the running of Off the Dial",
    "/off-the-dial-site_9.webp":
      "The posts page, for tournament organizers to share anything they need",
    "/off-the-dial-site_8.webp": "An example post page",
  },
  overview: {
    summary: (
      <>
        <span>
          Building a website for Off the Dial, a tournament organization for
          Splatoon providing tournament opportunities to players without a team.
          This quest would end up taking 5 iterations spanning across 5 years,
          here's last iteration's{" "}
          <a href="https://github.com/offthedial/site/pull/123">
            pull request{" "}
            <span class="text-slate-600">
              (<span class="text-green-500">+35,265</span>{" "}
              <span class="text-red-500">-22,311</span>)
            </span>
          </a>
          !
        </span>
      </>
    ),
    roles: ["design", "engineering"],
    tools: [
      ["GatsbyJS", "React.js", "JavaScript"],
      "MDX",
      "Tailwind",
      "Firebase",
      "Figma",
    ],
    sources: {
      website: "https://otd.ink",
      github: "https://github.com/offthedial/site",
    },
  },
}

# ideation

Before the website, registration was hosted through a discord bot. However, this had a couple of problems for players and tournament organisers.

1. Because of the limitations of discord, players would run into a lot of friction when trying to register for tournaments.
2. Tournament organisers oftentimes had to manually validate and fix problematic signups due to these limitations in the registration process.
3. Information and rules surrounding the tournament was difficult to host. Discord messages were hard to edit, and google doc links were hard to share.

> My objective was to solve these problems by building a website that provides a single source of truth and action for Off the Dial.

- Registration on the website should be a frictionless process for players, and user input should be reliably client-side validated.
- Players should be presented with all relevant tournament information without ever needing to go searching for it.

<Topic design>

## design # coming up with the information architecture

In order to complete this quest of building a source of truth, I asked myself: **what kind of information are players looking for?** Here's what I came up with:

1. ### the constitution

   the rules page is static document that displays information **relating to the tournament format**. it details the technical rules of the tournament and the general schedule.

2. ### the season

   The tournament page displays information **specific to the current season of the tournament**. Such as details on the start dates, registration dates, and rules changes.

3. ### the player

   The profile page displays information **as it relates to the player**. It displays player's registration status for the current season, and encourages them to register for the upcoming season. During the event, a timeline displays what the player's responsibility is for the currently active phase of the event.

</Topic>

# iteration

<Topic engineering>

## engineering # picking a tech stack that costs cents per month

Because Off the Dial is a grassroots tournament organization, it was imperative that I be as efficient with costs as possible. At the same time, **I didn't want to sacrifice being able to build all the features I wanted**.

After researching different web hosting methods, I settled on building a JAMstack website with the following technologies:

- ### GatsbyJS

  A free and open source static site generator, I chose Gatsby so I could use React to build out complex features for the website without server-side-rendering.

- ### Github Pages

  A free CDN, I'm able to host the static site that GatsbyJS builds for free, it also made it easy to build automated CI pipelines for deployment, also completely free with **Github Actions**.

- ### Google Firebase

  A BaaS with an illegally generous free tier, that lets me have my cake and eat it too. It serves all dynamic functions, such as the custom OAuth2 login endpoint with discord.

</Topic>

<Topic design>

## design # improving how info is communicated

Previously, the schedule of the tournament was an adaptive card at the bottom of the tournament page, that showed either the dates of the season, or relative dates such as "3 days before tournament starts".

![](/off-the-dial-site_13.webp)

However this often either confused players or got overlooked, because most players refer to the rules document for information regarding the tournament format.

The schedule _(at least in it's relative date form)_ fits that description, so it ended up fragmenting the tournament format information across multiple pages, which wasn't ideal.

> I rethought what the schedule card was really trying to communicate, and decoupled the purpose from the content.

1. I moved the static variant of the schedule into the rules page, so the rules page can stand as the main source of truth for tournament format information.

2. As an evolution of the season-specific schedule, **I built out a new timeline component for the player's profile page** to replace the old schedule.

   In addition to the date of each phase, anyone who navigates to their profile will see a dynamic, season-specific, and profile-specific timeline letting them know if there's a tournament going on, when everything happens, and what they should be doing!

<div class="flex gap-4 -my-12">

![](/off-the-dial-site_6-1.webp)

![](/off-the-dial-site_6-2.webp)

</div>

Now that schedule has been moved out of the tournament page, is there even a purpose for the tournament page anymore? _Yes!_

**Season-specific information needed to have it's own place**, as the information is constantly changing over time with every season. This came in the form of a dynamic card!

- Displays the season title, and all of the important dates that change with each season.
- Communicates any season-specific info that tournament organizers want to share, such as updates to the rules.
- Calls players to a hit that signup button, as well as includes a link to the rules!
- The focal point of this card is a colorful callout that **shares the current active status of the tournament, as it relates to the player**!

![](/off-the-dial-site_7.webp)

</Topic>

<Topic engineering>

## engineering # a custom oauth2 client with firebase functions

Firebase Auth does not support logging in with Discord, so I had to build a custom oauth2 client myself using Firebase Functions. This was done without the use of a dedicated server, and on a statically generated website.

### architecture

- In **Firebase Functions**, there are 2 endpoints: `redirect` and `token` that handle all sensitive cookie and token generation.
- On the website, there is a route called [`/profile/login`](https://github.com/offthedial/site/blob/master/src/pages/profile/login.js) that calls these api endpoints using JavaScript's native `fetch` api!

### user flow

1. A player on the website goes to `/profile/login` to attempt to log in.
1. The website redirects to the `redirect` API endpoint, which **creates the oauth state cookie**, and **redirects the client to the discord oauth URI**.
1. Once the player authorizes the application on discord.com, they are redirected back to `/profile/login`. This time, with a `code` and `state` query parameter.
1. The website, seeing these query parameters, will **fetch the `token` API endpoint with the `code` and `state` attached**.
1. The `token` endpoint will **validate the oauth state cookie**, **create a custom Firebase Auth token**, and **upsert their player profile**.
1. Once the fetch call has responded, the website will **sign in with the returned custom token**, and redirect the player to their profile!

</Topic>

<Topic engineering>

## engineering # extending a max-width container on one side

Unlike the max-width container below, the right side needs to extend to edge of the viewport while the left side needs to remain consistent in padding to all of the other elements on the page.

![](/off-the-dial-site_3.webm "controls")

You can conceptualize the image into 2 halves, where the right half fills it's entire side of the viewport, while the left half is simply half of the max-width container.

So if you divide the container width by 2 and add `50vw` (half of the viewport), all that's left is to align the container to the right!

```
max-width: calc(36rem + 50vw)
```

</Topic>

<Topic engineering>

## engineering # building a multi-select autocomplete component

![](/off-the-dial-site_5.webm)

It's best to lean on external libraries when it comes to complex accessible components like this, but always remember to own your own styles. I decided on using [Headless UI](https://headlessui.com), but Radix and Reach UI are awesome alternatives.

The state of the input, include the query and values are controlled by [`react-hook-form`](https://react-hook-form.com), which are passed on straight into the combobox component.

At first, the dropdown filter function was very primitive, but I discovered this awesome library called [`match-sorter`](https://github.com/kentcdodds/match-sorter)! It perfectly fit this use case and provided an awesome fuzzy search experience.

</Topic>

# impact

<Topic engineering>

## engineering # a brief history of the site, and how i've progressed

As I mentioned, this website went through 5 total iterations. I rewrote it from scratch each time using new/updated technologies, and redesigning all the pages.

> I want to share how the site has progressed with each iteration! Learning to build more ambitious features, and discovering new technologies with it.

1. The first iteration was actually just a bunch of markdown files in a repo published with github pages. It was just a simple way to host the rules with a shareable link.
2. The next iteration was static html with `Bootstrap` css. it looked like a baby's first website _(because it was)_, and probably used exclusively bootstrap cards everywhere.
3. This is when `Gatsby` became a staple of the stack, and with the introduction of `Firebase`, I was finally able to learn how to implement **oauth2 login** and **tournament registration**. I also learned `Bulma` to replace `Bootstrap`!
4. After getting the hang of Firebase and Gatsby, I was able to make a ton of improvements, such as the profile page with it's **registration status** and **timeline**, redesigning the **signup form**, and learning `Chakra` to replace `Bulma`.
5. The penultimate version! For the most part, general layout remained the same, but I spent a lot of time rewriting cleaner code, and remaking more polished designs with the help of `Tailwind`. This is also when I implemented the **weapon selector component**.

</Topic>

## player feedback, reception, and lessons

I surveyed a total of **31 respondents**, who shared their thoughts and perceptions about the website. Based on the provided responses, here's a summary of their feedback!

1.  ### overall user experience with the website

    > **`96.8%`** of players expressed satisfaction with the website, with **`30%`** of them also stating that it exceeded their expectations.

    Only **`14.3%`** of respondents stated that they only use the website to sign up. **`73.5%`** of respondents stated that they use the website for more than registering and reading rules (such as reading blog posts, or using the timeline).

    That means more-often-than-not **the site is providing additional useful services outside of it's mandatory function**.

    <Testimonials
      title="What did players have to say about the website overall?"
      stories={[
        "Visually the site is quite eye-catching, and I was fairly able to navigate it with ease. All info was clear and concise, and the sign up page was simple to fill out! I mostly use it to sign up for IDTGA, but I'll occasionally read a blog post or two just to catch up with whatever's happening at the moment. For a site that has a few simple jobs, it does them well!",
        "it's quick and snappy. things load easily. it's very polished and things were custom made; caught me off guard when i first loaded it up. i've really only used it for sign up stuff, but it's been great every time",
        "The OTD site is an excellent website. It is neat, well formatted, easy on the eyes with it's color scheme and font, as well as being easy to navigate. Also the animations are nice :)",
        "The site is sleek and professionally built. Its appearance is clean, and its style is simple yet carefully put together. User interface is top-notch; it is easy to navigate and understand. Every page on the site is short, sweet, and to the point, leaving no room for over-complexity. A great little site overall and an excellent first impression of the Splatoon competitive scene.",
        "Very aesthetically pleasing, I love the way the site looks in flow, font, and some things that remind me of sendou.ink, such as the weapon icons on the registration sheet. I had a decent time seeking out any info I need from the site, which came in handy as I appreciate looking things over as much as possible.",
      ]}
    />

2.  ### first-time navigation and ease of finding information

    The importance of a good first-time experience cannot be overstated. In this survey alone, **`65.2%`** of the players answered that this was their 1st or 2nd event.

    Within those that identified as first/second-timers, **`41.3%`** found navigating the site to be immediately easy, while **`78.3%`** found that it made sense after finding the information once.

    > Overall, **`89.1%`** of players understood how to navigate the site by the second use.

    <Testimonials
      title="What did first/second-time players say about their experience?"
      stories={[
        "When I first used the site, I was able to find everything I wanted quickly and easily. Everything from the signup page, to the discord link and the blog post section is well placed and easy to understand. I use the website semi-frequently, mostly to signup and check the rules. Overall I think that the website is exceptional. Plus, the website is visually appealing too.",
        "My first impression of the site was very good; on my first visit I was able to find almost everything I needed with ease, and this ease hasn't changed on subsequent visits. I use it to check my profile, look at the schedule and go over the rules.",
        "I had a bit of trouble getting to the rules without knowing that I needed to press learn more beforehand, but as I became more accustomed to the layout, it was a very simple and appealing site to traverse",
        "The website was easy to understand at first glance for me and able to find all the answers to my questions. So I will give it 10/10",
        "My first impressions was from the FABL qualifiers and how discord was integrated and how fast everything responded, both the IDTGA and FABL interface is a site to behold especially when entering for the tourney, the signal boost and the leaderboard for FABL being updated in real time is really neat and really well put together.",
      ]}
    />

It's incredibly rewarding seeing the positive sentiment regarding the website's design and user experience, especially how happy players were with the website's clean aesthetics, straightforward navigation, and ease of access to critical information.

I've learned so much about building a full-stack website, but there is still plenty of room for improvement. Such as making navigation more intuitive for first-time players by enhancing visibility of tournament formats and schedules.

If I were to remake the site, I would definitely be using this survey data to provide me with valuable guidance for improving the user experience even further.
